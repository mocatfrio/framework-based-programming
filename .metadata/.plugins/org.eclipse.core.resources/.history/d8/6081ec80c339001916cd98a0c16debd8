package com.example.json_to_pojo;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.Reader;
import com.google.gson.Gson;
import com.google.gson.GsonBuilder;

public class BookResponse {
	public static void main(String[] args) throws IOException {
		String endpointApi = "https://www.booknomads.com/api/v0/isbn/";
		String isbn;
		
		InputStreamReader isr = new InputStreamReader(System.in);
		BufferedReader br = new BufferedReader(isr);
		
		System.out.println("### Pencarian buku berdasarkan ISBN ###");
		System.out.print("Masukkan ISBN: ");
		isbn = br.readLine();
		
//		System.out.println(endpointApi + isbn);
		
		try(Reader reader = new InputStreamReader(BookResponse.class.getResourceAsStream(endpointApi + isbn), "UTF-8")){
            Gson gson = new GsonBuilder().create();
            Book book = gson.fromJson(reader, Book.class);
            System.out.println(book);
        }	
	}
}